<!doctype html>
<html lang="zh-CN">
<head>
    <!--[include "./public/head-meta.html"]-->
    <meta charset="utf-8" />
    <!-- 使用最新版的IE浏览器 -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!-- 国产浏览器高速模式 -->
    <meta name="renderer" content="webkit">
    <!-- 在手机上原比例显示，不可以放大缩小 -->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no, minimum-scale=1, maximum-scale=1" />
    <!-- 则手机号码不被显示为拨号链接 -->
    <meta name="format-detection" content="telephone=no" />
    <!-- 清除浏览器中的缓存，它和其它几句合起来用，就可以使你再次进入曾经访问过的页面时，ie浏览器必须从服务端下载最新的内容，达到刷新的效果。 -->
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Cache-Control" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <!--[/include]-->
    <title>电子揭示板</title>
    
    <!--[include "./public/head-link.html"]-->
    <!-- IE 老版本浏览器支持css的新属性 html5shiv 支持 html5标签 respond 支持 @media 媒体查询 -->
    <!--[if lt IE 10]>
        <script src="vendor/html5/html5shiv.min.js" type="text/javascript"></script>
        <script src="vendor/html5/respond.min.js" type="text/javascript"></script>
    <![endif]-->
    <script type="text/javascript" src="vendor/jquery-1.11.3.min.js"></script>
    <!-- 项目封装 -->
    <script type="text/javascript" src="scripts/widget.min.js"></script>
	
	<!-- livequery -->
	<script type="text/javascript" src="vendor/livequery-2.0.0/jquery.livequery.min.js"></script>
    
    <!-- 日期处理类库 -->
    <script type="text/javascript" src="vendor/moment/moment.min.js"></script>
    <!-- 时间插件 -->
    <link rel="stylesheet" type="text/css" href="vendor/My97DatePicker/skin/WdatePicker.css">
    <script type="text/javascript" src="vendor/My97DatePicker/WdatePicker.js"></script>
    <!-- 下拉插件 多选 -->
    <link rel="stylesheet" type="text/css" href="vendor/select2-4.0.2/select2.css">
    <script type="text/javascript" src="vendor/select2-4.0.2/select2.js"></script>
    <script type="text/javascript" src="vendor/select2-4.0.2/select2-Initials.js"></script>
    <script type="text/javascript" src="vendor/select2-4.0.2/i18n/zh-CN.js"></script><!-- 中文提示 -->
    <!-- 多选和单选的美化 -->
    <link rel="stylesheet" type="text/css" href="vendor/icheck/icheck.css">
    <script type="text/javascript" src="vendor/icheck/icheck.js"></script>
    <!-- 上传附件的组件 -->
    <link rel="stylesheet" type="text/css" href="vendor/webuploader/diyUpload.css">
    <script type="text/javascript" src="vendor/webuploader/webuploader.js"></script>
    <script type="text/javascript" src="vendor/webuploader/diyUpload.js"></script>
    <!-- 表单验证 -->
    <link rel="stylesheet" type="text/css" href="vendor/Validform/Validform_v5.css">
    <script type="text/javascript" src="vendor/Validform/Validform_v5.3.2.js"></script>
    <!-- bootstrap 的 js -->
    <script src="vendor/bootstrap/bootstrap.js"></script>
    <script src="vendor/bootstrap/bootstrap-hover-dropdown.js"></script>
    <!-- jquery-ui-abridged 由于jq-ui的方法很多用不上还会占用资源和与别的插件冲突，把不用的移除了 -->
    <script type="text/javascript" src="vendor/jquery-ui-1.9.2/jquery-ui-abridged.js"></script>
	<!-- ztree的组件 -->
	<link rel="stylesheet" href="vendor/ztree/css/zTreeStyle.css" type="text/css">
	<script type="text/javascript" src="vendor/ztree/jquery.ztree.all-3.5.min.js"></script>
	<!-- 放大缩小 -->
	<link href="vendor/smoothZoom/jquery.smoothZoom.css" rel="stylesheet">
	<script src="vendor/smoothZoom/jquery.smoothZoom.min.js"></script> 
	
	
    <!-- 项目需求的特殊样式 -->
    <link rel="stylesheet" type="text/css" href="styles/css/global.css" />
    <script type="text/javascript" src="scripts/common.min.js"></script>
    <!--[/include]-->
	
	
	<!-- 股道的数据信息 -->
	<script src="data/track.js"></script>
	

</head>
<body class="page-bg-default">
	
    <!-- page-container start -->
    <div id="page-container">
		
		<!-- page-sidebar start -->
		<aside id="page-sidebar">
		    <div class="page-logo">
				<a class="page-sidebar-toggle" href="javascript:;">
					<i class="icon icon-toggl"></i>
				</a>
			</div>
			<div class="left-nav" data-toggle="left-nav">
				<ul>
				    <li><a href="table.html"><i class="icon icon-home"></i>首页 <i class="icon icon-caret-right"></i></a></li>
				    <li><a href="form.html"><i class="icon icon-staff"></i>人员管控 <i class="icon icon-caret-right"></i></a></li>
				    <li><a href="text.html"><i class="icon icon-rules"></i>规章管理 <i class="icon icon-caret-right"></i></a></li>
				    <li><a href="bootstrap.html"><i class="icon icon-early-warning"></i>预警记录 <i class="icon icon-caret-right"></i></a></li>
				    <li><a href="icons.html"><i class="icon icon-patrol"></i>巡检记录 <i class="icon icon-caret-right"></i></a></li>
				    <li><a href="widget.html"><i class="icon icon-history"></i>历史记录 <i class="icon icon-caret-right"></i></a></li>
				    <li><a href="Container.html"><i class="icon icon-duty"></i>在岗记录 <i class="icon icon-caret-right"></i></a></li>
				    <li><a href="javascript:;"><i class="icon icon-book"></i>设备台账 <i class="icon icon-caret-right"></i></a>
				        <ul>
				            <li><a href="帮助文档-项目规则.html"><i class="icon icon-menu"></i>铁鞋台账 <i class="icon icon-caret-right"></i></a></li>
				            <li><a href="帮助文档-修改日志.html"><i class="icon icon-menu"></i>紧固器台账 <i class="icon icon-caret-right"></i></a></li>
				        </ul>
				    </li>
				</ul>
			</div>
		</aside>
		<!-- page-sidebar end -->
		
		<!-- page-header start -->
		<header id="page-header">
			<a href="javascript:;" class="page-sign-out">
				<i class="icon icon-sign-out"></i>
			</a>
			<div class="page-describe">
				<div class="page-describe-list">
					<i class="icon icon-gale"></i>
				</div>
				<p class="page-describe-list">天气：多云转晴</p>
				<p class="page-describe-list">温度：12 C~24 C</p>
				<p class="page-describe-list">风速：西南风5~6级 <span class="page-describe-early-warning text-orange">大风橙色预警</span></p>
				<dl class="page-describe-list">
					<dt><i class="icon icon-home"></i>车站：</dt>
					<dd>
						<div class="dropdown">
						    <a data-toggle="dropdown" href="javascript:;">资阳站 <i class="icon icon-delta"></i></a>
						    <ul class="dropdown-menu dropdown-menu-right">
						        <li><a href="#">资阳站1</a></li>
						        <li><a href="#">资阳站2</a></li>
						        <li><a href="#">资阳站3</a></li>
						        <li role="separator" class="divider"></li>
						        <li><a href="#">资阳站4</a></li>
						    </ul>
						</div>
					</dd>
				</dl>
				<dl class="page-describe-list">
					<dt>所属单位：</dt>
					<dd>成都车务段</dd>
				</dl>
				<a href="javascript:;" class="page-describe-list"><i class="icon icon-set"></i> 基础设置</a>                         
			</div>	
		</header>
		<!-- page-header end -->
		
		<div id="page-second">
			<div class="ztree-search">
				<div class="input-box">
					<input type="text" class="text" id="ztreeSearchInput">
				</div>
				<a class="btn btn-info" onclick="zTreeSearchNode('treeDemo', 'ztreeSearchInput', setting, zNodes)" href="javascript:;">搜索</a>
			</div>
			<div id="treeDemo" class="ztree"></div>
		</div>
		
		<!-- page-bodier start -->
		<div id="page-bodier">
			<div class="page-container">
				<div class="page-hd search-box">
					<form class="form-line">
						<div class="form-group">
							<label class="form-label">搜索：</label>
							<div class="form-content">
								<div class="select-box">
									<select class="select-2">
										<option value="0">请选择</option>
										<optgroup label="直辖市">
											<option value="1">北京</option>
											<option value="2">上海</option>
											<option value="3">天津</option>
											<option value="4">重庆</option>
										</optgroup>
										<optgroup label="东三省">
											<option value="5">辽宁省</option>
											<option value="6">吉林省</option>
											<option value="7">黑龙江省</option>
										</optgroup>
									</select>
								</div>
							</div>
							<div class="form-content">
								<div class="input-box" style="width: 284px;">
									<input type="text" class="text">
								</div>
							</div>
						</div>
						<div class="form-group">
							<button class="btn btn-info" type="button">确定</button>
						</div>
					</form>
					<div class="search-tools">
						<a class="btn btn-info" href="javascript:;" id="addRules">发布规章</a>
						<a class="btn btn-info" href="javascript:;">规章分类设置</a>
					</div>
				</div>
				<div class="page-bd">
					<section class="table-box">
					    <table class="table table-bordered">
					        <colgroup>
					            <col width="30">
					            <col width="32">
					            <col width="100">
					            <col width="84">
					            <col width="91">
					            <col width="100">
					            <col width="84">
					        </colgroup>
					        <thead>
					            <tr>
					                <th>序号</th>
					                <th>企业编号</th>
					                <th>企业名称</th>
					                <th>证件名称</th>
					                <th>状态</th>
					                <th>有效期</th>
					                <th>操作</th>
					            </tr>
					        </thead>
					        <tbody>
					            <tr>
					                <td>01</td>
					                <td>20160241</td>
					                <td>沈阳欣欣集团</td>
					                <td>营业许可证</td>
					                <td>已过期</td>
					                <td>2017.05.01</td>
					                <td>
					                    <a class="btn-text btn-text-primary" href="javascript:;">编辑</a>
					                    <a class="btn-text btn-text-success" href="javascript:;">查看</a>
					                    <a class="btn-text btn-text-error" href="javascript:;">删除</a>
					                </td>
					            </tr>
					            <tr>
					                <td>02</td>
					                <td>20160241</td>
					                <td>沈阳欣欣集团</td>
					                <td>营业许可证</td>
					                <td>已过期</td>
					                <td>2017.05.01</td>
					                <td>
					                    <a class="btn-text btn-text-primary" href="javascript:;">编辑</a>
					                    <a class="btn-text btn-text-success" href="javascript:;">查看</a>
					                    <a class="btn-text btn-text-error" href="javascript:;">删除</a>
					                </td>
					            </tr>
					            <tr>
					                <td>03</td>
					                <td>20160241</td>
					                <td>沈阳欣欣集团</td>
					                <td>营业许可证</td>
					                <td>已过期</td>
					                <td>2017.05.01</td>
					                <td>
					                    <a class="btn-text btn-text-primary" href="javascript:;">编辑</a>
					                    <a class="btn-text btn-text-success" href="javascript:;">查看</a>
					                    <a class="btn-text btn-text-error" href="javascript:;">删除</a>
					                </td>
					            </tr>
					            <tr>
					                <td>04</td>
					                <td>20160241</td>
					                <td>沈阳欣欣集团</td>
					                <td>营业许可证</td>
					                <td>已过期</td>
					                <td>2017.05.01</td>
					                <td>
					                    <a class="btn-text btn-text-primary" href="javascript:;">编辑</a>
					                    <a class="btn-text btn-text-success" href="javascript:;">查看</a>
					                    <a class="btn-text btn-text-error" href="javascript:;">删除</a>
					                </td>
					            </tr>
					            <tr>
					                <td>05</td>
					                <td>20160241</td>
					                <td>沈阳欣欣集团</td>
					                <td>营业许可证</td>
					                <td>已过期</td>
					                <td>2017.05.01</td>
					                <td>
					                    <a class="btn-text btn-text-primary" href="javascript:;">编辑</a>
					                    <a class="btn-text btn-text-success" href="javascript:;">查看</a>
					                    <a class="btn-text btn-text-error" href="javascript:;">删除</a>
					                </td>
					            </tr>
					        </tbody>
					    </table>
					</section>
					<section class="pagination-box">
					    <div class="pagination" id="pagination1"></div>
						<script>
						    /**
						     * 页码
						     */
						    $(function() {
						        $('#pagination1').pagination({
						            pageCount: 345, // 总页数
						            current: 5, // 当前第几页
						            callback: function(api) {
						                console.log(1111)
						                $('#now').text(api.getCurrent());
						            }
						        });
						    });
						</script>
					</section>
				</div>
			</div>
		</div>
		<!-- page-bodier end -->
    </div>
    <!-- page-container end -->
	
	<div class="modal fade" id="addRulesModal">
	    <div class="modal-dialog modal-draggable" style="width: 700px;">
	        <div class="modal-content">
	            <div class="modal-header">
	                <button type="button" class="modal-close" data-dismiss="modal" aria-label="Close"></button>
	                <p class="modal-title">车辆检查</p>
	            </div>
	            <div class="modal-body">
					<form>
						<section class="form-line label-width-90">
							<div class="row">
								<div class="form-group">
									<label class="form-label">上传人：</label>
									<div class="form-content">
										<div class="input-box">
											<input type="text" class="text">
										</div>
									</div>
								</div>
								<div class="form-group">
									<label class="form-label">规章编号：</label>
									<div class="form-content">
										<div class="input-box">
											<input type="text" class="text">
										</div>
									</div>
								</div>
							</div>
							<div class="row">
								<div class="form-group">
									<label class="form-label">规章名称：</label>
									<div class="form-content">
										<div class="input-box">
											<input type="text" class="text" style="width: 560px;">
										</div>
									</div>
								</div>
							</div>
						</section>
						<section class="form-horizontal label-width-90">
							<div class="form-group">
								<label class="form-label">照片：</label>
								<div class="form-content">
									<div class="upload-box">
										<span class="upload-tip">请上传pdf格式文件。</span>
										<div id="webuploader1"></div>
									</div>
								</div>
							</div>
							<div class="form-group label-width-130">
								<label class="form-label">是否是常用规章：</label>
								<div class="form-content">
									<div class="icheck-box">
									    <label class="icheck-label">
									        <input class="icheck-primary" name="demo.radio" type="radio" value="1">是
									    </label>
									    <label class="icheck-label">
									        <input class="icheck-primary" name="demo.radio" type="radio" value="2">否
									    </label>
									</div>
								</div>
							</div>
						</section>
						<div class="text-center">
							<button class="btn btn-info" type="button">确定</button>
						</div>
					</form>
	            </div>
	        </div>
	    </div>
	</div>
	
	
    <!-- 调取代码插件 -->
    <script type="text/javascript">
        var setting = {
			view:{
				showIcon: false,
				fontCss: zTreeSetHighlight // 高亮一定要设置，setHighlight是自定义方法
			}
		};
        var zNodes =[
        	{ name:"父节点1 - 展开", open:true,
        		children: [
        			{ name:"父节点11 - 折叠",
        				children: [
        					{ name:"叶子节点111"},
        					{ name:"叶子节点112"},
        					{ name:"叶子节点113"},
        					{ name:"叶子节点114"}
        				]},
        			{ name:"父节点12 - 折叠",
        				children: [
        					{ name:"叶子节点121"},
        					{ name:"叶子节点122"},
        					{ name:"叶子节点123"},
        					{ name:"叶子节点124"}
        				]},
        			{ name:"父节点13 - 没有子节点", isParent:true}
        		]},
        	{ name:"父节点2 - 折叠",
        		children: [
        			{ name:"父节点21 - 展开", open:true,
        				children: [
        					{ name:"叶子节点211"},
        					{ name:"叶子节点212"},
        					{ name:"叶子节点213"},
        					{ name:"叶子节点214"}
        				]},
        			{ name:"父节点22 - 折叠",
        				children: [
        					{ name:"叶子节点221"},
        					{ name:"叶子节点222"},
        					{ name:"叶子节点223"},
        					{ name:"叶子节点224"}
        				]},
        			{ name:"父节点23 - 折叠",
        				children: [
        					{ name:"叶子节点231"},
        					{ name:"叶子节点232"},
        					{ name:"叶子节点233"},
        					{ name:"叶子节点234"}
        				]}
        		]},
        	{ name:"父节点3 - 没有子节点", isParent:true}
        
        ];
		
		$(function(){
			$.fn.zTree.init($("#treeDemo"), setting, zNodes);
			
			
			$(document).on('click', '#addRules', function(event) {
				$("#addRulesModal").modal('show');
			});
			
			
			
			/**
			 * 车辆检查 上传的调用
			 */
			$('#webuploader1').diyUpload({
			    url: 'webuploader/server/fileupload.php',
			    // 是否自动上传
			    auto: true,
			    buttonText: '选择文件',
			    formData : { 'xxsm': 22 },
			    fileNumLimit: 1,                    // 允许上传的张数
			    // 提示信息
			    success: function(data) {
			        console.info(data);
			    },
			    // 错误的提示信息
			    error: function(err) {
			        console.info(err);
			    }
			});
			
			
        });
		
		// 模糊搜索name满足条件的节点
		function zTreeSearchNode(treeId, seachId, setting, zNodes) {
		    // var treeObj = $.fn.zTree.getZTreeObj(treeId); // 没有真正的初始化树，而是获取了树的所有信息，之前展开的没有关闭
		    var treeObj = $.fn.zTree.init($("#" + treeId), setting, zNodes);
		    var value = $("#" + seachId).val();
		    if (value == "") return;
		    // 获取搜索的节点
		    var nodes = treeObj.getNodesByParamFuzzy("name", value);
		    // 关闭所有节点的高亮
		    var allNodes = treeObj.transformToArray(treeObj.getNodes());
		    for (var i = 0; i < allNodes.length; i++) {
		        allNodes[i].highlight = false;
		        treeObj.updateNode(allNodes[i]);
		    }
		    // 如果没有内容，弹出提示框
		    if (nodes.length === 0) {
		        alert('没有您要搜索的内容');
		        return;
		    }
		    // 高亮并展开搜索到的节点
		    for (var i = 0; i < nodes.length; i++) {
		        nodes[i].highlight = true;
		        treeObj.updateNode(nodes[i]); // 更新节点，让高亮生效
		        treeObj.expandNode(nodes[i].getParentNode(), true);
		    }
		}
		// 符合搜索条件的树，设置高亮字体
		function zTreeSetHighlight(treeId, treeNode) {
		    return (treeNode.highlight) ? {"color":"#00baff"} : {"color":"#cfe7ff"};
		}
		
    </script>

</body>
</html>